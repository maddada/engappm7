<ion-header>
  <ion-toolbar color="light">

    <ion-buttons slot="start">
      <ion-button routerLink="/" routerDirection="back">
        <ion-icon name="arrow-round-back"></ion-icon>
        Back
      </ion-button>
    </ion-buttons>

    <ion-title transparent>
      Register an Account
    </ion-title>

  </ion-toolbar>
</ion-header>









<ion-content background-size>
  <ion-grid no-padding>


    <form #heroForm="ngForm">

      <ion-row size="11" size-sm="11" size-md="5" size-lg="5" size-xl="5" style="margin: 0 auto;" padding-horizontal>

        <ion-col align-self-center size="11" size-sm="11" size-md="5" size-lg="5" size-xl="5" style="margin: 0 auto;">



















          <ion-item>
            <ion-label position="stacked">Account Type</ion-label>

            <ion-select placeholder="Please Select One" ok-text="Select" cancle-text="Cancle" [(ngModel)]="selectedType"
              id="selectAccountType" interface="action-sheet" (ionChange)="onSelectType(event)" name="selectAccountType">

              <ion-select-option value="1">Individual</ion-select-option>
              <ion-select-option value="2">Consultant</ion-select-option>
              <ion-select-option value="3">Contractor</ion-select-option>
              <ion-select-option value="4">Supplier</ion-select-option>

            </ion-select>
          </ion-item>
















          <ng-container [ngSwitch]="selectedType">









            <ng-container *ngSwitchCase="1">

              <ng-container *ngTemplateOutlet="city_picker"></ng-container>

              <div padding-top>
                <ion-label position="stacked" class="label">Name (First and Last)</ion-label>

                <ion-input required type="text" placeholder="Enter your name" [(ngModel)]="newUser.personName" class="form-control"
                  id="name" name="name" #name="ngModel"></ion-input>
                <!-- <input type="text" placeholder="Enter your name" class="form-control" id="name" required [(ngModel)]="model.name" name="name" #name="ngModel"> -->
              </div>

              <div padding-top>
                <ion-label position="stacked" class="label">Email</ion-label>

                <ion-input required type="text" placeholder="Enter your email" [(ngModel)]="newUser.email" name="email"></ion-input>

              </div>

              <div>
                <ion-label position="stacked">Password</ion-label>

                <ion-input required type="password" placeholder="Enter your password" [(ngModel)]="newUser.password"
                  name="password"></ion-input>

              </div>

            </ng-container>





















            <ng-container *ngSwitchCase="2">

              <ng-container *ngTemplateOutlet="city_picker">
              </ng-container>

              <ng-container *ngTemplateOutlet="company_registration_fields">
              </ng-container>

            </ng-container>










            <ng-container *ngSwitchCase="3">

              <ng-container *ngTemplateOutlet="city_picker">
              </ng-container>

              <ng-container *ngTemplateOutlet="company_registration_fields">
              </ng-container>

            </ng-container>









            <ng-container *ngSwitchCase="4">

              <ng-container *ngTemplateOutlet="city_picker"></ng-container>

              <ng-container *ngTemplateOutlet="company_registration_fields"></ng-container>

              <ng-container *ngTemplateOutlet="supplier_fields"></ng-container>

            </ng-container>






          </ng-container>


        </ion-col>

      </ion-row>
    </form>




  </ion-grid>

</ion-content>












<ion-footer>

  <ion-toolbar color="light">

    <ion-row align-self-center size="11" size-sm="11" size-md="5" size-lg="5" size-xl="5" style="margin: 0 auto;"
      padding-horizontal>

      <ion-col align-self-center size="11" size-sm="11" size-md="5" size-lg="5" size-xl="5" style="margin: 0 auto;">

        <ion-button expand="block" mode="ios" text-uppercase type="submit" (click)="onSubmit()">
          <ion-icon name="at" mode="md"></ion-icon>&nbsp;Register
        </ion-button>

      </ion-col>
    </ion-row>
  </ion-toolbar>
</ion-footer>













<!-- Templates: -->











<!-- template to use for both consultant and contractor -->
<ng-template #company_registration_fields>

  <!-- EMAIL -->
  <div padding-top>
    <ion-label position="stacked" class="label">Email</ion-label>

    <ion-input required type="text" placeholder="Enter your email" [(ngModel)]="newUser.email" name="email"></ion-input>

    <!-- <ion-label error-field no-margin *ngIf="!isEmailValid">Error: {{errorType}}</ion-label> -->
  </div>

  <!-- PASSWORD -->
  <div>
    <ion-label position="stacked">Password</ion-label>

    <ion-input required type="password" placeholder="Enter your password" [(ngModel)]="newUser.password" name="password"></ion-input>

    <ion-label error-field no-margin *ngIf="!isPasswordValid">{{errorPassword}}</ion-label>
  </div>

  <!-- Company Name -->
  <div>
    <ion-label position="stacked">Company Name</ion-label>

    <ion-input required type="text" placeholder="Enter company name" [(ngModel)]="newUser.companyName" name="companyName"></ion-input>
  </div>

  <!-- Company Phone -->
  <div>
    <ion-label position="stacked">Company Phone Number</ion-label>

    <ion-input required type="text" placeholder="Enter company number" [(ngModel)]="newUser.phoneNumber" name="phoneNumber"></ion-input>
  </div>

  <!-- Account Creator Name -->
  <div>
    <ion-label position="stacked">Account Creator Name<br>(First and Last)</ion-label>

    <ion-input required type="text" placeholder="Enter your name" [(ngModel)]="newUser.personName" name="personName"></ion-input>
  </div>

  <!-- Person Phone -->
  <div>
    <ion-label position="stacked">Account Creator Mobile</ion-label>

    <ion-input required type="text" placeholder="Enter your mobile" [(ngModel)]="newUser.mobileNumber" name="mobileNumber"></ion-input>
  </div>


  <!-- Company Classification -->
  <div *ngIf="newUser.type == 2 || newUser.type == 3">
    <ion-label position="stacked">Company Classification</ion-label>

    <ion-input required type="text" placeholder="Enter Company Classification" [(ngModel)]="newUser.class" name="class"></ion-input>
  </div>


  <!-- upload company license -->
  <div>

    <ion-label position="stacked">Company Licence Copy</ion-label>


    <!-- <div class="upload-wrapper"> -->
    <input #uploadButton type="file" (change)="setUpload($event)" name="upload" />

    <div id="upload-percent">{{ uploadPercent | async }}
      <ng-container *ngIf="uploadPercent | async">
        %
      </ng-container>
    </div>

    <!-- <a [href]="downloadURL | async">{{ downloadURL | async }}</a> -->
    <ng-container *ngIf="downloadURL | async">
      <img id="upload-image" style="
      display: block;
      text-align: center ;
      margin: 0 auto;
      border: 0 3px 15px rgba(0, 0, 0, 0.2);
      border-style: solid;
      width: 80% !important;
      height: auto;"
        [src]="downloadURL | async">
    </ng-container>
    <!-- </div> -->

  </div>

</ng-template>





















<ng-template #city_picker>

  <ion-item>
    <ion-label position="stacked">City</ion-label>

    <ion-select placeholder="Please Select a City" ok-text="Select" interface="action-sheet" [(ngModel)]="selectedCity"
      (ionChange)="onSelectCity(event)" name="selectCity">
      <ion-select-option value="1">Abu Dhabi</ion-select-option>
      <ion-select-option value="2">Dubai</ion-select-option>
      <ion-select-option value="3">Sharjah</ion-select-option>
      <ion-select-option value="4">Ajman</ion-select-option>
      <ion-select-option value="5">Fujairah</ion-select-option>
      <ion-select-option value="6">Al Ain</ion-select-option>
      <ion-select-option value="7">Ras al-Khaimah</ion-select-option>
      <ion-select-option value="8">Umm al-Quwain</ion-select-option>

    </ion-select>
  </ion-item>

</ng-template>

































<ng-template #supplier_fields>

  <ion-item>
    <ion-label position="stacked">Speciality</ion-label>

    <ion-select placeholder="Please Select Your Specialities" multiple="true" ok-text="Select" interface="alert"
      (ionChange)="onSelectSupplierCategory($event)" name="selectSupplierCategory">

      <ion-select-option value="c_paint">Paint</ion-select-option>
      <ion-select-option value="c_blocks">Blocks</ion-select-option>
      <ion-select-option value="c_ceramics">Ceramics</ion-select-option>
      <ion-select-option value="c_interlock">Interlock</ion-select-option>
      <ion-select-option value="c_wood">Wood</ion-select-option>
      <ion-select-option value="c_doors">Doors</ion-select-option>
      <ion-select-option value="c_fabric">Fabric</ion-select-option>
      <ion-select-option value="c_cement">Cement</ion-select-option>

    </ion-select>
  </ion-item>

</ng-template>






<!--
    <form (ngSubmit)="onSubmit()" #heroForm="ngForm">
      <ion-row padding-top>
        <ion-col text-center>
          <h2>Please fill in all the details</h2>
        </ion-col>
      </ion-row>

      <h1>Hero Form</h1>

      <label for="name">Name</label>
      <input type="text" class="form-control" id="name" required [(ngModel)]="model.name" name="name" #name="ngModel">
      <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
        Name is required
      </div>

      <label for="alterEgo">Alter Ego</label>
      <input type="text" class="form-control" id="alterEgo" [(ngModel)]="model.alterEgo" name="alterEgo">

      <label for="power">Hero Power</label>
      <select class="form-control" id="power" required [(ngModel)]="model.power" name="power" #power="ngModel">
        <option *ngFor="let pow of powers" [value]="pow">{{pow}}</option>
      </select>

    </form>
 -->